<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 
"-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="groupMapper">
	
	<select id="selectListCount" resultType="_int">
		SELECT 
				COUNT(*)
		  FROM
		  		"GROUP"
  		 WHERE
  		 		GROUP_STATUS = 'Y'
	</select>
	
	<resultMap type="group" id="groupResultSet">
		<result column="GROUP_NO" property="groupNo" />
		<result column="USER_NO" property="userNo" />
		<result column="GROUP_TITLE" property="groupTitle" />
		<result column="GROUP_NUM" property="groupNum" />
		<result column="GROUP_CREATEDATE" property="groupCreatedate" />
		<result column="GROUP_DESCRIBE" property="groupDescribe" />
		<result column="GROUP_DAY" property="groupDay" />
		<result column="GROUP_LOCATION" property="groupLocation" />
		<result column="GROUP_STATUS" property="groupStatus" />
		<result column="GROUP_IMG" property="groupImg" />
	
	</resultMap>
	
	<select id="selectList" resultMap="groupResultSet">
		SELECT 
			   GROUP_NO
			  ,USER_NO
			  ,GROUP_TITLE
			  ,GROUP_NUM
			  ,GROUP_CREATEDATE
			  ,GROUP_DESCRIBE
			  ,GROUP_DAY
			  ,GROUP_LOCATION
			  ,GROUP_IMG
	  	  FROM
	  	  	   "GROUP"
  	  	 WHERE
  	  	 	   GROUP_STATUS = 'Y'
 	  	 ORDER
 	  	    BY
 	  	       GROUP_NO DESC
	
	</select>
	
	
	<insert id="insertGroup" parameterType="group">
		insert
		  into 
		       "GROUP"
		       (
		        GROUP_NO,
		        USER_NO,
			    GROUP_TITLE,
			    GROUP_NUM,
				GROUP_DESCRIBE,
				GROUP_DAY,
				GROUP_LOCATION,
				GROUP_IMG
		       )
	    values 
			   (
			   seq_gno.nextval
			  ,#{userNo}
			  ,#{groupTitle}
			  ,#{groupNum}
			  ,#{groupDescribe}
			  ,#{groupDay}
			  ,#{groupLocation}
			  ,#{groupImg}
			   )
	</insert>
</mapper>
